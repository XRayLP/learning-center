function Swipe(t,n){"use strict";function e(){g=y.children;for(var e=0;e<g.length;e++)8==g[e].nodeType&&(y.removeChild(g[e]),--e);T=g.length,g.length<2&&(n.continuous=!1),w.transitions&&n.continuous&&g.length<3&&(y.appendChild(g[0].cloneNode(!0)),y.appendChild(y.children[1].cloneNode(!0)),g=y.children,N=!0),b=new Array(g.length),L=t.getBoundingClientRect().width||t.offsetWidth,y.style.width=g.length*L+"px";for(var i=g.length;i--;){var o=g[i];o.style.width=L+"px",o.setAttribute("data-index",i.toString()),w.transitions&&(o.style.left=i*-L+"px",v(i,k>i?-L:k<i?L:0,0))}n.continuous&&w.transitions&&(v(c(k-1),-L,0),v(c(k+1),L,0)),w.transitions||(y.style.left=k*-L+"px"),t.style.visibility="visible"}function i(t,n,e){w.addEventListener?t.addEventListener(n,e,!1):window.attachEvent&&t.attachEvent("on"+n,e)}function o(t){t.returnValue=!1,t.preventDefault&&t.preventDefault()}function r(t,n,e){w.addEventListener?t.removeEventListener(n,e,!1):window.detachEvent&&t.detachEvent("on"+n,e)}function a(){for(var t=0;t<T;t++){var n=A.dots.children[t];n.className=parseInt(n.getAttribute?n.getAttribute("data-index"):n.attributes["data-index"].nodeValue)==D?"active":""}}function s(){for(var t=A.dots.childNodes;t.length>0;)A.dots.removeChild(t[0]);r(A.prev,"click",C.prev),r(A.next,"click",C.next)}function d(){n.continuous?l(k-1):k&&l(k-1)}function u(){n.continuous?l(k+1):k<g.length-1&&l(k+1)}function c(t){return(g.length+t%g.length)%g.length}function l(t,e){if(k!=t){if(w.transitions){var i=Math.abs(k-t)/(k-t);if(n.continuous){var o=i;(i=-b[c(t)]/L)!==o&&(t=-i*g.length+t)}for(var r=Math.abs(k-t)-1;r--;)v(c((t>k?t:k)-r-1),L*i,0);t=c(t),v(k,L*i,e||M),v(t,0,e||M),n.continuous&&v(c(t-i),-L*i,0)}else t=c(t),h(k*-L,t*-L,e||M);k=t,D=N?k%2:k,n.menu&&a(),E(n.callback&&n.callback(D,g[k]))}}function v(t,n,e){f(t,n,e),b[t]=n}function f(t,n,e){var i=g[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+n+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+n+"px)")}function h(t,e,i){if(i)var o=+new Date,r=setInterval(function(){var a=+new Date-o;if(a>i)return y.style.left=e+"px",I&&m(),n.transitionEnd&&n.transitionEnd.call(event,D,g[k]),void clearInterval(r);y.style.left=(e-t)*(Math.floor(a/i*100)/100)+t+"px"},4);else y.style.left=e+"px"}function m(){S=setTimeout(u,I)}function p(){I=0,clearTimeout(S)}var x=function(){},E=function(t){setTimeout(t||x,0)},w={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(t){var g,b,L,T,y=t.children[0];n=n||{};var k=parseInt(n.startSlide,10)||0,D=k,N=!1,M=n.speed||300;n.continuous=void 0===n.continuous||n.continuous;var S,z,A={},C={},I=n.auto||0,O={},P={},V={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":E(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":E(this.transitionEnd(t));break;case"resize":E(e)}n.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];O={x:n.pageX,y:n.pageY,time:+new Date},z=void 0,P={},y.addEventListener("touchmove",this,!1),y.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){n.disableScroll&&t.preventDefault();var e=t.touches[0];P={x:e.pageX-O.x,y:e.pageY-O.y},void 0===z&&(z=!!(z||Math.abs(P.x)<Math.abs(P.y))),z||(t.preventDefault(),p(),n.continuous?(f(c(k-1),P.x+b[c(k-1)],0),f(k,P.x+b[k],0),f(c(k+1),P.x+b[c(k+1)],0)):(P.x=P.x/(!k&&P.x>0||k==g.length-1&&P.x<0?Math.abs(P.x)/L+1:1),f(k-1,P.x+b[k-1],0),f(k,P.x+b[k],0),f(k+1,P.x+b[k+1],0)))}},end:function(){var t=+new Date-O.time,e=Number(t)<250&&Math.abs(P.x)>20||Math.abs(P.x)>L/2,i=!k&&P.x>0||k==g.length-1&&P.x<0;n.continuous&&(i=!1);var o=P.x<0;z||(e&&!i?(o?(n.continuous?(v(c(k-1),-L,0),v(c(k+2),L,0)):v(k-1,-L,0),v(k,b[k]-L,M),v(c(k+1),b[c(k+1)]-L,M),k=c(k+1)):(n.continuous?(v(c(k+1),L,0),v(c(k-2),-L,0)):v(k+1,L,0),v(k,b[k]+L,M),v(c(k-1),b[c(k-1)]+L,M),k=c(k-1)),D=N?k%2:k,n.menu&&a(),n.callback&&n.callback(D,g[k])):n.continuous?(v(c(k-1),-L,M),v(k,0,M),v(c(k+1),L,M)):(v(k-1,-L,M),v(k,0,M),v(k+1,L,M))),y.removeEventListener("touchmove",V,!1),y.removeEventListener("touchend",V,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==k&&(I&&m(),n.transitionEnd&&n.transitionEnd.call(t,D,g[k]))}};return e(),n.menu&&function(){for(var t=n.menu.childNodes,e=0;e<t.length;e++)if(t[e].className&&-1!=t[e].className.indexOf("slider-prev"))C.prev=function(t){o(t),p(),d()},A.prev=t[e],i(A.prev,"click",C.prev);else if(t[e].className&&-1!=t[e].className.indexOf("slider-next"))C.next=function(t){o(t),p(),u()},A.next=t[e],i(A.next,"click",C.next);else if(t[e].className&&-1!=t[e].className.indexOf("slider-menu")){for(var r=0;r<T;r++){var a=document.createElement("b");a.innerHTML="â€¢",a.setAttribute("data-index",r.toString()),r==D&&(a.className="active"),i(a,"click",function(t){return function(n){o(n),p(),l(parseInt(this.getAttribute?this.getAttribute("data-index"):t.attributes["data-index"].nodeValue))}}(a)),t[e].appendChild(a)}A.dots=t[e]}}(),I&&m(),w.addEventListener?(w.touch&&y.addEventListener("touchstart",V,!1),w.transitions&&(y.addEventListener("webkitTransitionEnd",V,!1),y.addEventListener("msTransitionEnd",V,!1),y.addEventListener("oTransitionEnd",V,!1),y.addEventListener("otransitionend",V,!1),y.addEventListener("transitionend",V,!1)),window.addEventListener("resize",V,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(t,n){p(),l(t,n)},prev:function(){p(),d()},next:function(){p(),u()},stop:function(){p()},getPos:function(){return D},getNumSlides:function(){return T},kill:function(){p(),y.style.width="",y.style.left="";for(var t=g.length;t--;){var n=g[t];n.style.width="",n.style.left="",w.transitions&&f(t,0,0)}w.addEventListener?(y.removeEventListener("touchstart",V,!1),y.removeEventListener("mousedown",V,!1),y.removeEventListener("webkitTransitionEnd",V,!1),y.removeEventListener("msTransitionEnd",V,!1),y.removeEventListener("oTransitionEnd",V,!1),y.removeEventListener("otransitionend",V,!1),y.removeEventListener("transitionend",V,!1),window.removeEventListener("resize",V,!1)):window.onresize=null,s()}}}}"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Swipe),exports.Swipe=Swipe);